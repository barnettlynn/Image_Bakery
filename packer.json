{
    "builders": [
      {
        "type": "amazon-ebs",
        "access_key": "AKIAUACF2XUCMHA4OYP2",
        "secret_key": "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",
        "region": "us-east-1",
        "vpc_id": "vpc-0e0aeea1697f177cb",
        "subnet_id": "subnet-00113aa244fc5c0d8",
        "user_data_file": "user-data",
        "source_ami_filter": {
          "filters": {
            "virtualization-type": "hvm",
            "name": "ubuntu/images/*ubuntu-xenial-16.04-amd64-server-*",
            "root-device-type": "ebs"
          },
          "owners": ["099720109477"],
          "most_recent": true
        },
        "instance_type": "t3.small",
        "ssh_username": "ec2-user",
        "ami_name": "packer-example {{timestamp}}"
      }
    ],
    "provisioners": [
        {
          "type": "file",
          "source": "./app.js",
          "destination": "/home/ubuntu/app.js"
        },
        {
            "type": "file",
            "source": "./setup.sh",
            "destination": "/home/ubuntu/"
          },
        {
          "type": "shell",
          "inline": ["ls -al /home/ubuntu", "cat /home/ubuntu/welcome.txt"]
        },
        {
          "type": "shell",
          "script": "./setup.sh"
        }
    ]
  }